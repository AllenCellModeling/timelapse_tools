

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>timelapse_tools.computation package &mdash; Timelapse Tools 0.1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="timelapse_tools package" href="timelapse_tools.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Timelapse Tools
          

          
          </a>

          
            
            
              <div class="version">
                0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Package modules</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="timelapse_tools.html">timelapse_tools package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="timelapse_tools.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">timelapse_tools.computation package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="timelapse_tools.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="timelapse_tools.html#module-timelapse_tools.exceptions">timelapse_tools.exceptions module</a></li>
<li class="toctree-l3"><a class="reference internal" href="timelapse_tools.html#module-timelapse_tools.label">timelapse_tools.label module</a></li>
<li class="toctree-l3"><a class="reference internal" href="timelapse_tools.html#module-timelapse_tools.movie">timelapse_tools.movie module</a></li>
<li class="toctree-l3"><a class="reference internal" href="timelapse_tools.html#module-timelapse_tools.projection">timelapse_tools.projection module</a></li>
<li class="toctree-l3"><a class="reference internal" href="timelapse_tools.html#module-timelapse_tools">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Timelapse Tools</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">timelapse_tools</a> &raquo;</li>
        
          <li><a href="timelapse_tools.html">timelapse_tools package</a> &raquo;</li>
        
      <li>timelapse_tools.computation package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/timelapse_tools.computation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
      
        <a href="timelapse_tools.html" class="btn btn-neutral float-left" title="timelapse_tools package" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="timelapse-tools-computation-package">
<h1>timelapse_tools.computation package<a class="headerlink" href="#timelapse-tools-computation-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-timelapse_tools.computation.computation_manager">
<span id="timelapse-tools-computation-computation-manager-module"></span><h2>timelapse_tools.computation.computation_manager module<a class="headerlink" href="#module-timelapse_tools.computation.computation_manager" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="timelapse_tools.computation.computation_manager.ComputationManager">
<em class="property">class </em><code class="sig-prename descclassname">timelapse_tools.computation.computation_manager.</code><code class="sig-name descname">ComputationManager</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/timelapse_tools/computation/computation_manager.html#ComputationManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#timelapse_tools.computation.computation_manager.ComputationManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>ComputationManagers are simple objects that can be used to store computation state as each frame (or data cube) of
an out of memory image is provided. You can construct them anyway you would like, but they must all have a
<cite>process_data</cite> function. That function has a specific set of parameters that it muct accept. Details on that
function.</p>
<p>Why not just provide a function to some loop, why provide a whole class?
By using an object it allows for a couple things. Better code splitting capabilities, you can include small utility
functions as underscore methods on the object for example, but the largest benefit is that it allows full control to
the user over how to store the outputs of each <cite>process_data</cite> iteration.</p>
<dl class="method">
<dt id="timelapse_tools.computation.computation_manager.ComputationManager.process_data">
<em class="property">abstract </em><code class="sig-name descname">process_data</code><span class="sig-paren">(</span><em class="sig-param">data: numpy.ndarray, dimensions: List[Tuple[str, int]], file_pointer: aicspylibczi.CziFile.CziFile, read_dims: Dict[str, int]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/timelapse_tools/computation/computation_manager.html#ComputationManager.process_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#timelapse_tools.computation.computation_manager.ComputationManager.process_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a single data cube read from the file. You should store the outputs from your processing on as
attributes on this objects. So that you have access to them on the next iteration if required.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>np.ndarray</em>) – The read data cube to process.</p></li>
<li><p><strong>dimensions</strong> (<em>List[Tuple[str, int]]</em>) – The dimensions object returned during the read data operation.</p></li>
<li><p><strong>file_pointer</strong> (<em>CziFile</em>) – The file pointer (or buffer reference) in the case you want to explicitely access more information from the
file during each process operation.</p></li>
<li><p><strong>read_dims</strong> (<em>Dict[str, int]</em>) – The dimensions and which indices that were used to read this data cube from the file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="timelapse_tools.computation.computation_manager.compute">
<code class="sig-prename descclassname">timelapse_tools.computation.computation_manager.</code><code class="sig-name descname">compute</code><span class="sig-paren">(</span><em class="sig-param">input_file: Union[str, pathlib.Path, aicspylibczi.CziFile.CziFile], computation_manager: timelapse_tools.computation.computation_manager.ComputationManager, operating_dimension: str = 'T', series_range: slice = slice(None, None, None), S: Optional[int] = None, C: Optional[int] = None, T: Optional[int] = None, Z: Optional[int] = None, show_progress: bool = False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/timelapse_tools/computation/computation_manager.html#compute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#timelapse_tools.computation.computation_manager.compute" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a computation across each data cube retrieved over the operating dimension and store it in the computation
managers state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_file</strong> (<em>Union[str, Path, CziFile]</em>) – The file to process.</p></li>
<li><p><strong>computation_manager</strong> (<em>ComputationManager</em>) – An initialized computation manager object that will be handed the read data cube on each iteration.</p></li>
<li><p><strong>operating_dimension</strong> (<em>str</em>) – Which dimension to iterate over.
Default: “T” (Time)</p></li>
<li><p><strong>series_range</strong> (<em>slice</em>) – A slice object to inform which indices to read over the available indices from the operating dimension.
Default: all, slice(None, None, None)</p></li>
<li><p><strong>S</strong> (<em>Optional[int]</em>) – Which scene to read at each iteration.
Default: None, read all scenes</p></li>
<li><p><strong>C</strong> (<em>Optional[int]</em>) – Which channel to read at each iteration.
Default: None, read all channels</p></li>
<li><p><strong>T</strong> (<em>Optional[int]</em>) – Which timepoint to read at each iteration.
Default: None, read all timepoints.</p></li>
<li><p><strong>Z</strong> (<em>Optional[int]</em>) – Which spatial Z plane to read at each iteration.
Default: None, read all spatial Z planes.</p></li>
<li><p><strong>show_progress</strong> (<em>bool</em>) – Display a progress bar.
Default: False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>computation_manager</strong> – The provided computation manager after it has processed each iteration.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#timelapse_tools.computation.computation_manager.ComputationManager" title="timelapse_tools.computation.computation_manager.ComputationManager">ComputationManager</a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>You may notice that the default <cite>operating_dimension</cite> is “T” and that the default <cite>T</cite> is None. This behavior is
enforced. You cannot specify an index to read on each iteration for a dimension that is acting as the operating
dimension. As an example, any value besides <cite>T=None</cite>, for <cite>operating_dimension=”T”</cite> will raise a
<cite>ConflictingArgumentsError</cite>. Similary, any value besides <cite>Z=None</cite>, for <cite>operating_dimension=”Z”</cite> will raise a
<cite>ConflictingArgumentsError</cite>.</p>
</dd></dl>

</div>
<div class="section" id="module-timelapse_tools.computation.file_summary">
<span id="timelapse-tools-computation-file-summary-module"></span><h2>timelapse_tools.computation.file_summary module<a class="headerlink" href="#module-timelapse_tools.computation.file_summary" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="timelapse_tools.computation.file_summary.channel_names">
<code class="sig-prename descclassname">timelapse_tools.computation.file_summary.</code><code class="sig-name descname">channel_names</code><span class="sig-paren">(</span><em class="sig-param">czi</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/timelapse_tools/computation/file_summary.html#channel_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#timelapse_tools.computation.file_summary.channel_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Metadata specified channel names</p>
</dd></dl>

<dl class="function">
<dt id="timelapse_tools.computation.file_summary.collected_by">
<code class="sig-prename descclassname">timelapse_tools.computation.file_summary.</code><code class="sig-name descname">collected_by</code><span class="sig-paren">(</span><em class="sig-param">czi</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/timelapse_tools/computation/file_summary.html#collected_by"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#timelapse_tools.computation.file_summary.collected_by" title="Permalink to this definition">¶</a></dt>
<dd><p>User of record</p>
</dd></dl>

<dl class="function">
<dt id="timelapse_tools.computation.file_summary.date_created">
<code class="sig-prename descclassname">timelapse_tools.computation.file_summary.</code><code class="sig-name descname">date_created</code><span class="sig-paren">(</span><em class="sig-param">czi</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/timelapse_tools/computation/file_summary.html#date_created"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#timelapse_tools.computation.file_summary.date_created" title="Permalink to this definition">¶</a></dt>
<dd><p>Date created as indicated by czi metadata</p>
</dd></dl>

<dl class="function">
<dt id="timelapse_tools.computation.file_summary.dimensions">
<code class="sig-prename descclassname">timelapse_tools.computation.file_summary.</code><code class="sig-name descname">dimensions</code><span class="sig-paren">(</span><em class="sig-param">czi</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/timelapse_tools/computation/file_summary.html#dimensions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#timelapse_tools.computation.file_summary.dimensions" title="Permalink to this definition">¶</a></dt>
<dd><p>The STCZ dimensions of the czi as indicated by czi.dims()</p>
</dd></dl>

<dl class="function">
<dt id="timelapse_tools.computation.file_summary.file_size">
<code class="sig-prename descclassname">timelapse_tools.computation.file_summary.</code><code class="sig-name descname">file_size</code><span class="sig-paren">(</span><em class="sig-param">fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/timelapse_tools/computation/file_summary.html#file_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#timelapse_tools.computation.file_summary.file_size" title="Permalink to this definition">¶</a></dt>
<dd><p>File size in GB</p>
</dd></dl>

<dl class="function">
<dt id="timelapse_tools.computation.file_summary.time_per_frame">
<code class="sig-prename descclassname">timelapse_tools.computation.file_summary.</code><code class="sig-name descname">time_per_frame</code><span class="sig-paren">(</span><em class="sig-param">czi</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/timelapse_tools/computation/file_summary.html#time_per_frame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#timelapse_tools.computation.file_summary.time_per_frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Waiting on subblock metadata</p>
</dd></dl>

<dl class="function">
<dt id="timelapse_tools.computation.file_summary.total_duration">
<code class="sig-prename descclassname">timelapse_tools.computation.file_summary.</code><code class="sig-name descname">total_duration</code><span class="sig-paren">(</span><em class="sig-param">czi</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/timelapse_tools/computation/file_summary.html#total_duration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#timelapse_tools.computation.file_summary.total_duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Waiting on subblock metadata</p>
</dd></dl>

</div>
<div class="section" id="module-timelapse_tools.computation.intensity_distributions">
<span id="timelapse-tools-computation-intensity-distributions-module"></span><h2>timelapse_tools.computation.intensity_distributions module<a class="headerlink" href="#module-timelapse_tools.computation.intensity_distributions" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="timelapse_tools.computation.intensity_distributions.IntensityDistributions">
<em class="property">class </em><code class="sig-prename descclassname">timelapse_tools.computation.intensity_distributions.</code><code class="sig-name descname">IntensityDistributions</code><a class="reference internal" href="_modules/timelapse_tools/computation/intensity_distributions.html#IntensityDistributions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#timelapse_tools.computation.intensity_distributions.IntensityDistributions" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#timelapse_tools.computation.computation_manager.ComputationManager" title="timelapse_tools.computation.computation_manager.ComputationManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">timelapse_tools.computation.computation_manager.ComputationManager</span></code></a></p>
<p>Find intensity distributions over the data cubes</p>
<dl class="method">
<dt id="timelapse_tools.computation.intensity_distributions.IntensityDistributions.process_data">
<code class="sig-name descname">process_data</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">dimensions</em>, <em class="sig-param">file_pointer</em>, <em class="sig-param">read_dims</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/timelapse_tools/computation/intensity_distributions.html#IntensityDistributions.process_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#timelapse_tools.computation.intensity_distributions.IntensityDistributions.process_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a single data cube read from the file. You should store the outputs from your processing on as
attributes on this objects. So that you have access to them on the next iteration if required.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>np.ndarray</em>) – The read data cube to process.</p></li>
<li><p><strong>dimensions</strong> (<em>List[Tuple[str, int]]</em>) – The dimensions object returned during the read data operation.</p></li>
<li><p><strong>file_pointer</strong> (<em>CziFile</em>) – The file pointer (or buffer reference) in the case you want to explicitely access more information from the
file during each process operation.</p></li>
<li><p><strong>read_dims</strong> (<em>Dict[str, int]</em>) – The dimensions and which indices that were used to read this data cube from the file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-timelapse_tools.computation.min_max_intensity_finder">
<span id="timelapse-tools-computation-min-max-intensity-finder-module"></span><h2>timelapse_tools.computation.min_max_intensity_finder module<a class="headerlink" href="#module-timelapse_tools.computation.min_max_intensity_finder" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="timelapse_tools.computation.min_max_intensity_finder.MinMaxIntensityFinder">
<em class="property">class </em><code class="sig-prename descclassname">timelapse_tools.computation.min_max_intensity_finder.</code><code class="sig-name descname">MinMaxIntensityFinder</code><a class="reference internal" href="_modules/timelapse_tools/computation/min_max_intensity_finder.html#MinMaxIntensityFinder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#timelapse_tools.computation.min_max_intensity_finder.MinMaxIntensityFinder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#timelapse_tools.computation.computation_manager.ComputationManager" title="timelapse_tools.computation.computation_manager.ComputationManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">timelapse_tools.computation.computation_manager.ComputationManager</span></code></a></p>
<p>Find the minimum and maximum intensity values from the entire series of data cubes and store them in state.</p>
<dl class="method">
<dt id="timelapse_tools.computation.min_max_intensity_finder.MinMaxIntensityFinder.process_data">
<code class="sig-name descname">process_data</code><span class="sig-paren">(</span><em class="sig-param">data: numpy.ndarray, dimensions: List[Tuple[str, int]], file_pointer: aicspylibczi.CziFile.CziFile, read_dims: Dict[str, int]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/timelapse_tools/computation/min_max_intensity_finder.html#MinMaxIntensityFinder.process_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#timelapse_tools.computation.min_max_intensity_finder.MinMaxIntensityFinder.process_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a single data cube read from the file. You should store the outputs from your processing on as
attributes on this objects. So that you have access to them on the next iteration if required.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>np.ndarray</em>) – The read data cube to process.</p></li>
<li><p><strong>dimensions</strong> (<em>List[Tuple[str, int]]</em>) – The dimensions object returned during the read data operation.</p></li>
<li><p><strong>file_pointer</strong> (<em>CziFile</em>) – The file pointer (or buffer reference) in the case you want to explicitely access more information from the
file during each process operation.</p></li>
<li><p><strong>read_dims</strong> (<em>Dict[str, int]</em>) – The dimensions and which indices that were used to read this data cube from the file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-timelapse_tools.computation">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-timelapse_tools.computation" title="Permalink to this headline">¶</a></h2>
<p>Compute package for timelapse_tools.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Dave Williams

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>